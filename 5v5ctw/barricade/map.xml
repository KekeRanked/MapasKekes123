<map proto="1.4.2">
<name>Barricade</name>
<version>1.2.4</version>
<objective>Capture the enemy team's wool.</objective>
<time result="objectives" max-overtime="10m" overtime="10m">25m</time>
<authors>
    <author uuid="6bec5c3a-4934-4b19-9aa8-c7c569820f7d"/> <!-- Claf -->
    <author uuid="621b2aa8-4e5f-4ed8-bd36-0ae2f8952a06"/> <!-- Strangey -->
</authors>
<contributors>
    <contributor uuid="9929437a-9b7d-4d7a-b05d-e22fe93ac042"/> <!-- triplezko -->
</contributors>
<teams>
    <team id="blue-team" color="blue" max="5" max-overfill="5">Blue</team>
    <team id="red-team" color="dark red" max="5" max-overfill="5">Red</team>
</teams>
<kits>
    <kit id="spawn-kit">
        <clear/>
        <item slot="0" unbreakable="true" material="iron sword"/>
        <item slot="1" unbreakable="true" material="bow"/>
        <item slot="28" amount="40" material="arrow"/>
        <item slot="2" unbreakable="true" material="iron pickaxe">
            <enchantment>efficiency</enchantment>
        </item>
        <item slot="3" unbreakable="true" material="iron axe">
            <enchantment>efficiency</enchantment>
        </item>
        <item slot="4" amount="64" material="wood"/>
        <item slot="31" amount="64" material="wood"/>
        <item slot="5" amount="64" material="glass"/>
        <item slot="7" material="golden apple"/>
        <item slot="8" amount="64" material="golden carrot"/>
        <effect duration="5">heal</effect>
    </kit>
    <kit id="blue-kit" parents="spawn-kit">
        <helmet unbreakable="true" color="334CB2" material="leather helmet"/>
        <chestplate unbreakable="true" color="334CB2" material="leather chestplate">
            <enchantment>projectile_protection</enchantment>
        </chestplate>
    </kit>
    <kit id="red-kit" parents="spawn-kit">
        <helmet unbreakable="true" color="993333" material="leather helmet"/>
        <chestplate unbreakable="true" color="993333" material="leather chestplate">
            <enchantment>projectile_protection</enchantment>
        </chestplate>
    </kit>
</kits>
<spawns>
    <default>
        <region yaw="135">
            <point>219,12.5,-495</point>
        </region>
    </default>
    <spawn team="blue-team" kit="blue-kit">
        <region yaw="-90">
            <point>183.5,7,-428.5</point>
        </region>
    </spawn>
    <spawn team="red-team" kit="red-kit">
        <region yaw="90">
            <point>245.5,7,-570.5</point>
        </region>
    </spawn>
</spawns>
<filters>
    <not id="blue-in-wr">
        <any>
            <team id="only-red">red-team</team>
            <material>chest</material>
        </any>
    </not>
    <not id="red-in-wr">
        <any>
            <team id="only-blue">blue-team</team>
            <material>chest</material>
        </any>
    </not>
    <all id="only-iron-regen">
        <material id="only-iron">iron block</material>
        <cause>world</cause>
    </all>
    <not id="deny-void">
        <void/>
    </not>
</filters>
<regions>
    <union id="spawns">
        <cuboid id="blue-spawn" min="180,0,-419" max="208,25,-438"/>
        <cuboid id="red-spawn" min="249,0,-580" max="221,25,-561"/>
    </union>
    <union id="wool-rooms">
        <rectangle id="orange-for-blue" min="158,-552" max="169,-541"/>
        <rectangle id="purple-for-red" min="271,-447" max="260,-458"/>
    </union>
    <complement id="not-map">
        <everywhere/>
        <rectangle min="184,-456" max="245,-543"/>
    </complement>
    <union id="spawner-regions">
        <point id="spawner-spawn">214.5,8,-499.5</point>
        <cylinder id="spawner-player" base="214.5,8,-499.5" radius="5" height="5"/>
        <cylinder id="spawner-region" base="214.5,7,-499.5" radius="2" height="4"/>
    </union>
    <apply enter="only-blue" region="blue-spawn" message="You may not enter the enemy team's spawn!"/>
    <apply enter="only-red" region="red-spawn" message="You may not enter the enemy team's spawn!"/>
    <apply enter="only-blue" region="orange-for-blue" message="You may not modify or enter your own wool room!"/>
    <apply enter="only-red" region="purple-for-red" message="You may not modify or enter your own wool room!"/>
    <apply block="never" region="spawner-region" message="You may not modify the spawner!"/>
    <apply block-break="only-iron" block-place="only-iron-regen" region="spawns" message="You may only break iron blocks at spawn!"/>
    <apply use="only-blue" block="blue-in-wr" region="orange-for-blue"/>
    <apply use="only-red" block="red-in-wr" region="purple-for-red"/>
    <apply block="deny-void" region="not-map" message="You may not build in the void!"/>
</regions>
<wools craftable="false" wool-proximity-metric="none" monument-proximity-metric="closest block">
    <wool team="blue-team" color="orange" location="163.5,18.5,-549.5">
        <monument>
            <block>181,8,-429</block>
        </monument>
    </wool>
    <wool team="red-team" color="purple" location="265.5,18.5,-449.5">
        <monument>
            <block>247,8,-571</block>
        </monument>
    </wool>
</wools>
<renewables>
    <renewable renew-filter="only-iron" region="spawns" sound="true" particles="true"/>
</renewables>
<spawners>
    <spawner spawn-region="spawner-spawn" player-region="spawner-player" delay="10s">
        <item material="golden apple"/>
    </spawner>
</spawners>
<toolrepair>
    <tool>iron sword</tool>
    <tool>bow</tool>
    <tool>iron pickaxe</tool>
    <tool>iron axe</tool>
</toolrepair>
<itemremove>
    <item>wood</item>
    <item>glass</item>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>golden carrot</item>
    <item>redstone</item>
    <item>redstone torch on</item>
    <item>apple</item>
    <item>seeds</item>
    <item>sapling</item>
    <item>31</item>
    <item>37</item>
    <item>38</item>
    <item>175</item>
    <item>338</item>
    <item>66</item>
    <item>flint</item>
</itemremove>
<itemkeep>
    <item>arrow</item>
</itemkeep>
<kill-reward>
    <item amount="32" material="wood"/>
    <item amount="16" material="glass"/>
    <item material="golden apple"/>
    <item amount="10" material="arrow"/>
</kill-reward>
<maxbuildheight>22</maxbuildheight>
<hunger>
    <depletion>off</depletion>
</hunger>
<respawn delay="6s" auto="true" blackout ="true"/>
<item-mods>
    <rule>
        <match>
            <material>iron chestplate</material>
        </match>
        <modify>
            <enchantment>projectile_protection</enchantment>
        </modify>
    </rule>
</item-mods>
</map>
